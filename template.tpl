___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "AccessiWeb Widget",
  "brand": {
    "id": "brand_dummy",
    "displayName": "dunp scpl",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH6AceDAso635HpgAAHF5JREFUeNrtnXuQXPV15z/nd+/tnvf7qQd6CxBCBAmMediWgTxsKJI43qollVRShZ1li2TZ9T/eFFvWYjZb662NC29InLWVqlRqnc3GlMkaFm/WbBxDwAYbLB4CzFsIodFjXt3TM9338Tv7x+3WzEgzUvdMv0ffKoRm1Pfe8/vdb59zfud3zvkJawx+pCYIGZnLkQB6HcPeIMKEEeo6XOkYrlBFrYJqfI0IGAERJLIcDi0vuwbxXGxkecEIky0e021Jmaz1+KoNqbUAlUTOV5PxGVBlZ2jZYoTrwoh+EXZbpVOVpMCgguTJIkXMiQIqAhJz7JQRcsBR4IgxvCXwuudwzBh+3t7CadeIrfVcVApNRaAwVJPKMhBE7BT4pchyqSq7FTYCnQWNUmnkyZUW4ajAIRF+5BgOeS5vNBuhGp5As74mcgE7gpBfiCwfV+VjChtU6ay1bAshQtoIHxjhn4zwPcfh2Y4kYwmvscnUkATyAzUzOUb8kOtU+azCLaoMqTbGeEQIBN4xhicdw/cSLs92tDLmSOORqSEmvICpjCaDiGvCiNsUPqOWrQpereVaDUQIjPCOER42wl+3t/BWW1L8WstVtPy1FqAYTGW0Pxfw8cjyzxQ+rUp3rWWqANQIJ4zhBwa+4Rie6e+qfyLVNYEmZ7QviLgjsvyeVa5RbWxtUyxEmDbCDxMujyQ8vtvZIhO1lmlZWWstwFKYzmhfLlx7xDkbIoSO8I8If5R0eaa3o/40Ul0RKD2riYzPDarcZ5X9qri1lqkekNdIj3sOf+Yanu7pkCoFJIqQrdYCAKiqjKfZFVr+MLLc3qQ+zqohwglHOOi5fLO/U47UWh6oAwJNZbTPD/mXYcTnrLK51vI0AozwvOvwJy0eD3e1SaaWstSMQBqpTGS4KYj4UmTZr1w0V6VABN8xfCfh8B96O3hVpDZmrSYEmpjRNj/kN63ly1YZrYUMzQLH8I5j+LetHn/X2SZBtZ9fdQJNzOgOP+TLUcRnFBLVfn4zQoS0I3zddfjKQFd1l/xVJdB4Wm/3Q+6PLHur+dw1gtAx/EDgnpFeebNaD60KgeZy2p6a487I8oBVRqo1uLUIEV5IOBwY7JbHqvK8Sj/gVErbVLk/jLjXrtGAYLUhwpgR7u1p45HWZGX9oooSaCKtvdmA+1S59+Iqq7oQIeU5fD3p8kB3e+WW+hUj0HRGd2YDHgoiPslF8tQE+a2QB0U4MNwjsxV5RiVuOpXRHbmAg0HExys7RRdRBEIRHjTCgdHe8pOo7AQaT+mOwHIwvEieekLFSFRWAo2ndIcfcTCyjU0eIZ/XvGB2lDiDvlp51RVAaIQHHVNec1Y2Ak1ldEfW52DYwOQpEGYmq5ycskzMWOZySsITetoNQ11Cd4fBEbCNSaTANXytLcmBrrbykKgsBErN6aasz1/5YWOSR/J/fDhheeY1n5+9HXJsImI2p0Q2rglrSQj9nYbdm1xu2uWxY52LYxpPI4kQeg5f7Wrl37UkVr/EXzWBUrPaNufzn8OIexpsLuMJEPAD5YevBDz6XI6j4xFqlzdhAD3tws17EtzxkRZ6O6ThtJEIKSN8frRX/nbV91rNxUGkiekMD+RCvtCIyV8iMJdTvv10lsd/6pMNFFPEjKjG1167w+OuX2xluMc0HImMMOa5/N5glzy6qvus5uKpGX7ND7m7EckDEEXwv57N8d3ncuSKJA/Ma6Zn3wj4i+/PMZnRRdqqEWCVET/kwIkp3bGa+6yYQKdTuju0/EerdNV6MlY0cIHn3w547Cc5oogVEcAI/OTN+B624Sq6QJV9qjw0OaN9K73Higg0ldG+0PLHkWVbrSdhJRCB1Kzy6HM5ZuZWpz1U4R9ezPHOWFS0BqsnhJab/ZAv+oGuKLWmZAIFkSb8kC9GETfXevArhQi8ejTkjQ9DzKqMeHyviRnl6df8hvOD8nBDy91Ts9y2kotLnr7pDLeFEXc38uaotfDSeyG5MhbJvHIkJL1KbVYrqNIVRtx3alo3lXptSQSayuimIOK+RvV7CsgFypGTUdnuJ8DJacvplK19lcIKYZV9oeULqTktKeWmaAJZq54f8gVr2Vfrwa4GIpD1IT2nZYvDi0A2UDLZxtRABVjld+dy3F7KNUUTaGKGm8KI32lMM78YYaRE5XZYFKIGXIktGoLSFVnum0gXb8qKItBMVvtDyx/aZij4U2hNCq0JicPLZYJjhKRX1lvWBKrs8yM+X+zniyLQbI47Isv+Wg+uHFAg4QqD3aZsL1sVOtviDddG2xs7ZyyAtdw1MaMfK+bzFyTQVEY3RZZ7mqnBQcKFnevdssVtrMLmIYf+zsYnUH48I37I3TNzF44NXZBAQcTnrTa247wU9m5zYy1UhhfuOfG+WLKJqtwiy20Znxsv9LnzEmgqo5eGEXc2w7dqIazChgGHm3atXqlaC5dtcLl2h9cU2qcAVbqt5XPTs+fXQuclUBDy29aytdaDqQSMwKf2Jblsg7vifSyr0Nsh/MYNLfS0S1MRKD++27IX0ELLEmh6Vi8NLXc22ZycgSoMdRt+55YWNg6akklkFTpbhd/c38pVW91G3ca40Bx1W+VzqfNooWUJlPW5pVm1TwFWY/PzB7e3s2eze+Z354Nq/JmRHsNdv9jKzXsSDRt9LnKObvPD5bXQkmOfzmj/rM93I8sN1Ra4kNBeaANfDbNgBCZmLN8/5PPkKz5jk5Ywipe0wnxsxzFxNuK+7R6f2pdky7BTnTmR+bTbWiT2uw7fGO7m7qVayCxJoFPT+ut+xN+oVrd7hhHI5OKE9jCCng6ht93gufMTV6m5k/zLOTllefWDkDePRZxKWWayStKF/k7D5mGHKy5xuWTQwXMqm1ifP5uDyML0rDKesliFgS6ht6O64QIR3km6fGqgS944+9/O2VEPQk2Mp/lstckjxDvkj/woy7snIiILXW3CznUue7a4bB1xGOw2tCYEI/OmpFwovJDhXsNIX4L9uyG0EISKawTXiTUQxM8tN3kKB7qowpyvnE4p754Iee1oxM+PhZxOWVRhsNvwK3uT7L8ygedUKfKtbA0ttwLnEOgcDTSe0ityIU9Us4uGEXjxvZCHHpvlxJQ9E+DT/B+uA93thg39hu3rHHauc9k46NDfISQXEKoSGmqhCSvnPQtJ+6pxdsDEjPLB6Yi3jseE+eC0ZSpjCcL4gsKLUo0rRH5rfwufvjZZNf/LMfxTa4Lbe9pleuHvz9VAlk9UkzwiMJVR/udTWU5M2TPf8sJEk6/BmkhbxlOWF98LSbg5etsN6/tjs7J91GXjgKGv09CaFFyzoIpilaQqB3kKZBFikzTnK+Np5dh4xLsnIt4+HnF0PGJyxpIL4ocWrjk74U0kJtwjP85x2QaXHeucqqwArbInF7IHeGrh7xcRaCKtyWzAL1denHkYgZePhLxxLFxEnrOxsMwmjOL8mxNTlhfeCfGcHF1thuEewyWDhk2DDhsGHIZ6DF1tQosnGJPXJrq4RKecKJBE5MyeEn6gpOaU0ynL0dOWd09EfHA6YmzSMj1r8cNYloLPY4o4cEoExtOWp1/z2TbaWpX3pEqXjc3Y8gRSuBaqWxwY2Ti91A85L4HOxkJCRXZeQx1+P75P0hN62oXBLsO6fsO6PofRPkN/p6GnXWhLCp4ba6uz678Kamchx+SsZy+YWCILfqhkfZiajeUYm7Qcm7Acn4g4OW2ZyijZnBLaxSasGMIsCYXXjobM5pT2pFTFF1Ll1tNp/epA57wZW0SgIOQqq/RUQZaFz+TU9OoTac4uBMwFytikcnzC8uJ7MalcB9qSQmeroa9TGOg09HYYejvilU17i9DeEpPKc+P0jAL8MNYmkcJsVpnJKlMzlsmMMp62TKQtE2klPWfJZJUgiolVMMMF7VTKl+RC452e1ZhALeVNTVkOCrujaLEZO0Og2awmp+f4pcqLcfZMVK5J0dmkCiOYzihTmYijp+bjPMbEL9bkNZdrwHUEz118bRDGpc65ACIb/71wNOYZojD/zHKRZSkU+FLNDEhVupTFZuzMFGVDtqvykeqJEyPhwiWDDs+9UZ0OtQuDcgsR2bwpCgqvRosyYSs2QauEKoz0GjqqpH0WPPfWmZx+tSMZm7Ez35Ew4hcUhqs9EQLcuMtjtK8+yoPPrJjy/knhv4W/rzU0n1V5854ErYnq+D8FWGVbNsfGws9nCKTKjbU48c8qbBly+O2bWxnsKn1Tc63B5uNAn7k+yUcvTdTiSzcUKVcVfnABZrLanZ6b/2W1ocD1l3r0tgsPP53jlSMBuaB+vvG1hgJqwXFg27DDHdclueHyBJ6pfg62KqLKDcC3IG+9T07r5iDiKVU21HKijMTNnV58N+TJwz6vHQ1JzSp2QZxkLaGgXdqTwpZhhxsu97hup0d/V21TZx3DM52tfLqjRaZdAIErgaF6mLD2pHDjLo99213eP2V56b2Aw++HvHciYjoTx1GamUwF0rQmhPX9hj2bXa7e6rFlxKGzRSoWBC0Fqlwy59MLxAQKLRurvXm6rHDE6jrhCjvXOexc53D7tcqHE5affxDyypGQN49HTKTn94kasanBQtj8lkvSg9E+h92bXK7e6rJt1KW7LY6iq62ftnoKQwK7gfcKGui6Wgu1FAoTlnCFrcMOW0ccbrkqyamU5a3jIS+9G/LzYxGnpi1ZXxcF7Oodhc1fz4XRHsOujS57t3nsXO/Q12Fi0uQ/U28LC1USfhQHnN3ZnPZOz9Z/5mHhW+o6sL7PsKE/wY2XJ5icifeXXn4v5PUPQo6NWzI5XbQhWS8opKC4TpyWcdkGl73bXC7f4NLfZXCd+iXN2XCEjwL/3Z3z6VHm1/WNgAKZjMBAl2Gw23DNdo/0XNw04fD7IYffDzlyKmJmTrEWxNRGMxUIYUyclLZjvcPVWz2uuMRluGdxsly9k2YhIkufqhrXKj2qJGst0EqxMMWzq03Ys8Xlys0usznl2Ljl9Q9CfvZOwOtHI+b86jU/WCjT9tFY0+ze5DLa58R7bHlt1EikWQgRrpzJMiITab0rG/DfrFKdBN9qDZD53OrZnPKzt0O+9Y9zfDhhK04iVejrNNy0y+PGyxNcMhhnUkL9OMKrhRGOeC6fdP0IU4sIdKWxMKGs1RNu2uURRsqfPj4br94q9VyFnesdfveWVi7b4GJMrGWahTgFWEWCEMdEFrfJxnYONB4wuy5xGeiq7J5bwoVfv76F3ZvyZUINaqIuBBGGkh77TMJlP6ts99sQ0DgXqK3MbV0WPUKhsy3O3W5W4ixAQqHLWGXFLV4v4lzEUfKm8wjOgWqcDGhqHRa/iMZFZNcSgSTOKowsFQ0IrZn5zMOsAVsNxJyZmYtzmSvGH4lLdjLZ8jXwrGOIY+g3a+YLI5DKJ7xX6uUKcTL/VKZx2/2WMtyEyyeaf/VVGC0wnlL8sLJBr8iWp8qkQeA2eiZESRhPW8IKv9vIxs9ZC75QZDlsVntWRKPAavxiq+HznU7FdWFNDuuHHDZrIGQBxCuw8XTl2SPEVbJhtAZUELAmCCRAECkT6Sps+gmk5pQ5v75ykSoBx4BBebXWglQc+R359Jyt+PJayJc+zzX3Skwkbm9sgohXgKZeNhRiQJlKxoAKz8p3WWvUo5+KHieoY7DGc5pf1RZOKJzNVWesBXPZzFDlZGh5wTgOKaCMR6/VJ05OW4IqObZRBKdSTa3UEcEHpkwQ8rwqJ2stUCWhCmOTlqhKS2urcHwiImzipbwI6RaPnEm4hMbQxEOFIIIPJ6KqlQELcGzCkguaMNUzD1Ve7mhhzLgOY6q8UmuBKgURmMspY5Ol50IX2tSVSjwRGE9Zpmebd1PVMUyIiDXdbZJ1hMlaC1QpCDCZiVvMlfIuFWhLCB+9zKOrtbRzMArdw06nKp/AXytEyo8hn8qq8GytBaoUROLm4em50l6mKnzsCo9/86tt3HJV6VXffhiXYzcjf0TwEy5TkCeQYzia96qbEh9O2JL2plShu03Yf2WCtmT8/4ESO2KEERwbj5quGgNA4CR5t8fkf/Gy0JwrscjmX2QJq+q4NMdly7BDFMH6PocrN7ulmTHg2Lhd0DKveSDC+y3J2O0xAK0JJkV4v9aCVQK5oHRTYgxcvdWlJd8+znNh3zZvUdPNCyJvOmca/CjwJYcmHFrUI7GjVaaN8GKtBavAQEnlDyoplkGq0N0uXL7RPbP8sgrb1zklHZEZd+C3jKebi0ACKvBM4ecz2UAiPC3V7ddY+cHmO7pPzxb/ElXjrrEjvfMFiKr5xgjrij9YToBZXxmbjJrLkRZOOmZe2ZwhkOtwSOBEreUr71jh+IQlW0pAT+Cy9e6ZWvYCPBcu3+jglpCAFzvSzZWdaIS3WxIcPfNz4S9Jj7dEeK7WApYTVuHYRFTSFkaLJ1y6wTm365nCjlGXjhJiQqrwwXjUVNmJIjzR0TJ/1MEZArUnJSfC/20mdRuE8OG4LdouW4X+TmHjwLkn4BQae4/2OSX5QWOTtqptZSoJEVICTyz83SKFnHB5USQOEDU6RGIf5MRU8QFEVdg46NDTfq6zrMS19VtHnKIJKcDkjDI50xwBRYFXHMNLC3+3iECO8BPgyVoLWqbBMpm2Jb08I7B91CGxzHLdMbBjND7usigZBNJzlpMlkLieIcITA12LD5xbRKDudskZw9/XWtAyDZaT03G/xGJfXtKLNcxyn1eFzcNOSX5QEMU7840OEVKOWWy+YIm2Lq7DD40wVmuBy4Fj47boZlKq8YnM6/qWPwGwcNb8SG/xfpC1cOx04+cGGeGlpLfYfMESBOpp5U1j+IdaC7xahPkcoGLjNqow2hefHbYcOZT4kJNNg6YkP6jRc4Py7QL/R3fbYvMFS2kgV3zH8HAjb64WatRL3cLYNOSQ9M5/hWtgy4hT9FlgzZAbJMI77hLmC5bpTNbi8aQRflprwVc+4vwWRrp459V1YMuwc8Gu9wpsGnSKPmapGXKDHMMT/Z28udS/LUmgzlYZF+GgQHVOgSszROB02jKdKc6BVoX2FmFD/4V9G1UY7onPXi3WD/JXoA3rBSJMO4a/EZElR7usInYM3xXh+VoPYEWDJt7C8MPi3rAy37D8QleoQmdrfJBvsQQKbePmBhnhf7cmeHrZf1/uHwa7ZNx1+PtG/NbY/BZCsSufggPdlixueZ5wYzNWrElq1NygvPY52N4iy/rD53UFPYe/Noa3az2QUuGHsQYqFiLxDnwpAcJNQ8V/vlFzgy6kfeACBOrtkDdE+AoN5AuJxLXpYyVEfwsH/5ay5bGuPz7wthiN1Yi5QQXt09kq512NX3Ax6hq+Y+ItjoaAABMzluki28wVHOjR3uJ9GgX6O0x8cmCRMjVabpBjeKw9eX7tA0UQaKBLxj2HbzZKXOjMFkaR5kKBgU5DX2fxwUHNNy1fX8SqrYBGyg0S4V0j/Kfz+T4FFBUOS7h8W4RHaj2wYqCUtnVwxoFOlFb75bqwccCUZPYaJDcocoS/GOqWoopNiyJQd7tkEg5/2gh7ZGF+87Lo1FOBDf0ObolnFQmwcWD5nfulntMIuUFGeFaEPy/688V+cKBLnjLCQ1C/dfSFLYzjk8UH7TwHNgwU70AXoAqjvSU40tR/bpAIKdfhvwz3yHix15TUYtN1+HMj9bvRGq924iqMUiLQo32lH6OtQG9n8RHpRsgNMsJftiZ4rKRrSvnwQJeMu4YHpF5NWX7jstjuYAr0tJs4A7HER6nGtfMjfcVfW8+5QUZ43nP4amerlBSyKbnJ71CPPOUaHhKo4LFtK4MQp3Dkioz4Fva1ijVDZ8N1Yv+pWI1Sr7lBAidch/sHuuRIqdeuqEu04/CgMTxc64GfDQVOTWt8oEoREGBDvymt4nTh9RI70kVHsIHjk5Zchbvll4jQGP5kqFseXcnFKyLQQKdkHMOXTB1uttoSVEnCg+3r3AumcCyHQhFid3vxPlThxOl6gTE87BgeXPH1K71wqFve9Bzurzd/aLS3uCW5VRjtc9i5zlnxLrnNm8DLNxR3DyXWWEmvPkqAjfC8a/jSULdkVnyP1Qgw2C2POoYv1UuUWhWu2upyyaBzQTPmCHxid6KkvJ6lkHDh5j1JOi+QaK8aHwF+/WVe0dmMlYQRxhIu9w91y5urus9qBelu5VuO4b9SBxuuhaT3Oz/ewlC3IbLnHgBXOGf+I5d63HpVYtVpplbhys0un74mieuwZEFiZKElIfzqdUl2X1J8fX0FcQL4/YGulfk9C1EWX+7ElLZFlq9Y5fdrPTMFvHY05LGf5nj9aEh6TrEa13X1tBuuv8zjjuuSq9Y+BYhA1le+f8jniUM+J6bilsIi8Z7ZpkGHX96b5LqdHp5TWxdIhNA1/PvhHvmjstyvXIJNz+qmrM9fBREfr930zMMIZIO4ueapfH1Ye1IY7XUY6TM4przHUxYm8nTa8uG4ZSpjSXjCQKdhtC8OFdRa84gQOIavJT0O9LbLbDnHXRZMzuiOXMjBsE5IBIVTlOd/VqWiL1KERau6gsmsvdUidAwPtngc6O0oD3mgAoUm42nd4YccjGz9kOgiCI3woGM4MNxTPvJAhSqVxtO6I4jqSxOtVQiEUiHy5O9fGUzO6E4/5KEg4pPACmO9F7EaiMRmy3M40N9ZfvJAhWslx9Pamw24D+VevUiiauOk6/C1pMvXejtWHii8ECq+JXNyWttUuT+03KuKV+nnXQSIMCZwz7o++U7Fn1WNAc3mtD09x52h5QFVRqrxzLUKI7zguRwY7JKS8npWiqpuCp9O6e1+yP1W2VvN564RhK7hByLcM9yzuu2JUlD1rILxlO4IIr4cWT6jUPohFBdxDkRIu4avJ1y+0tshE1V9di0GPJ7W9sjyr8OIf2WVoVrI0CwwwguuwwOdrTzemrhwGU65UdO8pvG03h5E3B9Z9jZCvVQ9QYSUEf7SdfjjwS6p2TEVNU+MS83pplzA54OQz1lluNby1DsEMIYXjPBAS4LHu9uqr3XOlqfm8AOVmRw3+iF/EFl+TfWib7QUjHDCGA4mXb7Z21F6/nIlUBcEKiA1q+1BxGf9kH9hlWsuxo1iiDDtCI97Ln+WcHi6s03qxuDXFYEKmEhrX2j5Dat8MbJsW6v+kQi+wN85hq8nPZ7paa+tuVpSxloLsBxUVdJZtmd9bo0sv2WVa9eKRhJhWoTHXcPfJly+39Neua2IVctaawGKwURa+yLLHZFyV2S5SpXOWstUAagRTjhxMPAbCbc+Nc7ZaAgCFZCa0y4/4JrI8s8j5VZVtjS6eRMhEHjBMXzPGL7d0cJbtYjnrFj+WguwEmTmVALL9iDi1sjyK9byEYVhrat6veWRJ807xvCka/g/juGHvR3FNzSoJzTEhJ8PM1lN+CHbw4j91nKjVfYqbKsnf0niP9ICLxvDIcfw/xzhx+0tjCU9qc9i+VLG1izIZFVyIeus5WprudYq1yjsskofSle1rF3+6NBTRjgtwiGBHzkOh4zwcl/HuccFNDKaikBnY87XZNZnILJsiSxbRLgusvSLsNtaOoFuoFtB876UFDEnCqhIfACtxkTJAUeBI8bwlsBhEV5NuJxqSXI66TS2ljkfmppASyGI1OQCRuZ8Eq7DdlW2BiEaWdR1uNIxXGEVXXjOfKHSQgSJLIfDiJddB0m42DDiBSNMtiSZbkvIZK3HV238f5VAWRKKT+5kAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTA3LTMwVDEyOjExOjQwKzAwOjAwHszLBAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0wNy0zMFQxMjoxMTo0MCswMDowMG+Rc7gAAABXelRYdFJhdyBwcm9maWxlIHR5cGUgaXB0YwAAeJzj8gwIcVYoKMpPy8xJ5VIAAyMLLmMLEyMTS5MUAxMgRIA0w2QDI7NUIMvY1MjEzMQcxAfLgEigSi4A6hcRdPJCNZUAAAAASUVORK5CYII\u003d"
  },
  "description": "Il widget AccessiWeb aggiunge al tuo sito web strumenti, regolazioni ed impostazioni di accessibilitÃ  progettate per personalizzare l\u0027esperienza di navigazione e fruizione dei contenuti",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "LicenseKey",
    "displayName": "LicenseKey",
    "simpleValueType": true,
    "help": "Widget LicenseKey"
  },
  {
    "type": "TEXT",
    "name": "PrimaryColor",
    "displayName": "PrimaryColor",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^#(?:[0-9a-fA-F]{3}){1,2}$"
        ]
      }
    ],
    "help": "Widget primary color",
    "valueUnit": "hex color",
    "defaultValue": "#136ef8"
  },
  {
    "type": "SELECT",
    "name": "PositionX",
    "displayName": "PositionX",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "left",
        "displayValue": "left"
      },
      {
        "value": "right",
        "displayValue": "right"
      }
    ],
    "simpleValueType": true,
    "help": "Widget horizontal alignment",
    "defaultValue": "left"
  },
  {
    "type": "SELECT",
    "name": "PositionY",
    "displayName": "PositionY",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "bottom",
        "displayValue": "bottom"
      },
      {
        "value": "top",
        "displayValue": "top"
      }
    ],
    "simpleValueType": true,
    "help": "Widget vertical alignment",
    "defaultValue": "bottom"
  },
  {
    "type": "TEXT",
    "name": "OffsetX",
    "displayName": "OffsetX",
    "simpleValueType": true,
    "valueHint": "10",
    "help": "Widget horizontal offset",
    "defaultValue": 10,
    "valueValidators": [
      {
        "type": "POSITIVE_NUMBER"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "OffsetY",
    "displayName": "OffsetY",
    "simpleValueType": true,
    "valueHint": "10",
    "help": "Widget vertical offset",
    "defaultValue": 10,
    "valueValidators": [
      {
        "type": "POSITIVE_NUMBER"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "UnitX",
    "displayName": "UnitX",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "px",
        "displayValue": "px"
      },
      {
        "value": "%",
        "displayValue": "%"
      }
    ],
    "simpleValueType": true,
    "help": "Widget horizontal offest unit",
    "defaultValue": "px"
  },
  {
    "type": "SELECT",
    "name": "UnitY",
    "displayName": "UnitY",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "px",
        "displayValue": "px"
      },
      {
        "value": "%",
        "displayValue": "%"
      }
    ],
    "simpleValueType": true,
    "help": "Widget vertical offest unit",
    "defaultValue": "px"
  },
  {
    "type": "SELECT",
    "name": "IconSize",
    "displayName": "IconSize",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "small",
        "displayValue": "small"
      },
      {
        "value": "medium",
        "displayValue": "medium"
      },
      {
        "value": "large",
        "displayValue": "large"
      }
    ],
    "simpleValueType": true,
    "help": "widget icon size"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const logToConsole = require('logToConsole');
const templateStorage = require('templateStorage');
const encodeUri = require('encodeUri');
const encodeUriComponent = require('encodeUriComponent');

function main() {
    // Memorizzo la configurazione del widget in templateStorage
    templateStorage.setItem('acswConfig', {
        LicenseKey: data.LicenseKey,
        PrimaryColor: data.PrimaryColor,
        PositionX: data.PositionX,
        PositionY: data.PositionY,
        OffsetX: data.OffsetX,
        OffsetY: data.OffsetY,
        UnitX: data.UnitX,
        UnitY: data.UnitY,
        IconSize: data.IconSize
    });

    logToConsole('Widget AccessiWeb configurato correttamente');

    // Chiamata a gtmOnSuccess
    data.gtmOnSuccess();

    // Costruisco l'URL con parametri definiti
    let scriptUrl = encodeUri('https://www.accessiweb.it/widget/acsw.js');
    const params = [
        { key: 'LicenseKey', value: data.LicenseKey },
        { key: 'PrimaryColor', value: data.PrimaryColor },
        { key: 'PositionX', value: data.PositionX },
        { key: 'PositionY', value: data.PositionY },
        { key: 'OffsetX', value: data.OffsetX },
        { key: 'OffsetY', value: data.OffsetY },
        { key: 'UnitX', value: data.UnitX },
        { key: 'UnitY', value: data.UnitY },
        { key: 'IconSize', value: data.IconSize }
    ];

    const queryString = params
        .filter(param => param.value !== undefined && param.value !== null)
        .map(param => param.key + '=' + encodeUriComponent(param.value))
        .join('&');

    if (queryString) {
        scriptUrl += '?' + queryString;
    }

    // Carico lo script utilizzando l'API injectScript
    injectScript(scriptUrl, () => {
        logToConsole('Script acsw.js caricato con successo');
    }, () => {
        logToConsole('Errore: impossibile caricare lo script acsw.js');
        data.gtmOnFailure(); 
    });
}

main();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://www.accessiweb.it/widget/acsw.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_template_storage",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Test 0000
  code: |-
    const mockData = {
      // Mocked field values
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 31/10/2024, 17:07:07


